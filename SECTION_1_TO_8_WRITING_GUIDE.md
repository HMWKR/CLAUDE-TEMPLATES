# CLAUDE.md 섹션 1-8 상세 작성 가이드

이 가이드는 새 프로젝트의 CLAUDE.md 파일에서 **섹션 1-8 (프로젝트별 정보)**을 어떻게 상세히 작성해야 하는지 안내합니다.

---

## 왜 섹션 1-8이 중요한가?

**섹션 9-19** (Claude 작업 지침)은 모든 프로젝트에 공통으로 적용되는 규칙입니다.
**섹션 1-8**은 **프로젝트 고유 정보**로, Claude가 해당 프로젝트를 이해하는 핵심입니다.

| 섹션 1-8 품질 | Claude 협업 결과 |
|:-------------:|------------------|
| **상세함** | 정확한 파일 위치 언급, 적절한 아키텍처 결정, 빠른 문제 해결 |
| **부실함** | 잘못된 경로 추정, 부적절한 설계 제안, 반복적인 질문 |

**좋은 예시**: [calclab/CLAUDE.md](https://github.com/HMWKR/calclab) (~660줄 섹션 1-8)

---

## 섹션별 상세 가이드

---

## 섹션 1: 프로젝트 개요

### 목적

Claude가 프로젝트의 **핵심 목적, 기능, 기술 스택**을 한눈에 파악하도록 합니다.
이 섹션을 읽은 후 Claude는 "이 프로젝트는 무엇을 하는가?"에 즉시 답할 수 있어야 합니다.

### 최소 요구사항

| 항목 | 설명 | 필수 |
|------|------|:----:|
| **한 줄 정의** | 프로젝트가 무엇인지 한 문장으로 설명 | O |
| **핵심 기능** | 주요 기능 3개 이상 (번호 목록) | O |
| **기술 스택** | 프레임워크, 언어, 주요 라이브러리 + 버전 | O |
| **프로젝트 목적** | 왜 이 프로젝트를 만들었는지 | 권장 |
| **대상 사용자** | 누가 사용하는가 | 권장 |

### 좋은 예시 (calclab)

```markdown
## 1. 프로젝트 개요

**CalcLab**은 SI 차원 분석 기반 공학 계산기로, Google Gemini AI를 활용한
문제 해결 기능을 제공하는 React + TypeScript 웹 애플리케이션입니다.

### 핵심 기능

1. **차원 분석 계산 엔진** - `10 m + 5 m = 15 m` 처럼 물리적 차원을 자동 추적
2. **변수 및 의존성 관리** - `m = 100 kg` → `F = m * a` 형태로 연쇄 계산
3. **AI 문제 해결** - Gemini AI를 통한 물리/공학 문제 질의응답
4. **LaTeX 수식 렌더링** - KaTeX를 사용한 수학 표현식 렌더링

### 기술 스택

- React 19, TypeScript 5.8, Vite 6
- Tailwind CSS (CDN), KaTeX (수식 렌더링)
- @google/genai (Gemini API)
- Vitest (테스트)
```

### 나쁜 예시

```markdown
## 1. 프로젝트 개요

**MyProject**는 웹 애플리케이션입니다.

### 핵심 기능

1. 기능 1
2. 기능 2

### 기술 스택

- JavaScript
- CSS
```

**문제점**:
- 한 줄 정의가 너무 모호함
- 핵심 기능이 구체적이지 않음
- 기술 스택에 버전 정보 없음
- 프레임워크 미명시

### 품질 체크리스트

- [ ] 프로젝트가 무엇을 하는지 한 문장으로 명확히 설명됨
- [ ] 핵심 기능이 3개 이상이고 각각 구체적 예시가 포함됨
- [ ] 기술 스택에 **버전 정보**가 포함됨 (React 19, TypeScript 5.8 등)
- [ ] 주요 라이브러리와 그 용도가 명시됨

---

## 섹션 2: Quick Start

### 목적

새로운 개발자(또는 Claude)가 **5분 내에 프로젝트를 실행**할 수 있도록 합니다.
복사-붙여넣기만으로 개발 환경이 구축되어야 합니다.

### 최소 요구사항

| 항목 | 설명 | 필수 |
|------|------|:----:|
| **의존성 설치** | `npm install` 등 설치 명령어 | O |
| **환경 변수 설정** | 필요한 환경 변수와 예시 값 | O (필요 시) |
| **실행 명령어** | 개발 서버 시작 명령어 | O |
| **접속 URL** | 실행 후 확인할 수 있는 URL/포트 | O |
| **명령어 테이블** | 주요 명령어 4개 이상 | O |

### 좋은 예시 (calclab)

```markdown
## 2. Quick Start

### 로컬 개발

```bash
# 1. 의존성 설치
npm install

# 2. 환경 변수 설정 (AI 기능용)
# .env.local 파일 생성 후 아래 내용 추가
VITE_GEMINI_API_KEY=your_api_key_here

# 3. 개발 서버 시작
npm run dev    # http://localhost:3000
```

### 주요 명령어

| 명령어 | 설명 |
|--------|------|
| `npm run dev` | 개발 서버 시작 (port 3000) |
| `npm run build` | 프로덕션 빌드 |
| `npm run test:run` | 전체 테스트 실행 |
| `npm run test:coverage` | 커버리지 리포트 생성 |
| `npx tsc --noEmit` | 타입 체크만 실행 |
```

### 나쁜 예시

```markdown
## 2. Quick Start

npm install로 설치하고 npm run dev로 실행합니다.
```

**문제점**:
- 단계별 안내 없음
- 환경 변수 설명 없음
- 포트 번호/URL 미명시
- 명령어 테이블 없음

### 품질 체크리스트

- [ ] 복사-붙여넣기만으로 프로젝트를 실행할 수 있음
- [ ] 환경 변수가 있다면 **예시 값**과 함께 설명됨
- [ ] 실행 후 **포트 번호, URL**이 명시됨
- [ ] 주요 명령어가 **테이블**로 4개 이상 정리됨

---

## 섹션 3: 아키텍처

### 목적

Claude가 코드를 수정할 때 **어느 폴더/파일을 봐야 하는지** 즉시 파악합니다.
"X 기능은 어디에 있나요?"라는 질문에 바로 답할 수 있어야 합니다.

### 최소 요구사항

| 항목 | 설명 | 필수 |
|------|------|:----:|
| **폴더 구조 트리** | 주요 폴더 (최대 3단계 깊이) | O |
| **역할 주석** | 각 폴더/파일의 책임 설명 | O |
| **데이터 흐름** | ASCII 다이어그램으로 시각화 | O |

### 좋은 예시 (calclab)

```markdown
## 3. 아키텍처

### 폴더 구조

```
calclab/
├── App.tsx                 # 메인 컴포넌트 (전역 상태 관리)
├── types/                  # TypeScript 타입 정의
│   ├── models.ts           #   Quantity, CalcLine, Project
│   └── errors.ts           #   ErrorCode, Result<T,E> 패턴
├── utils/                  # 유틸리티
│   ├── unitEngine.ts       #   핵심 계산 엔진 (파서 + 평가기)
│   ├── storage.ts          #   localStorage 안전 래퍼
│   └── complex.ts          #   복소수 연산
├── services/
│   └── geminiService.ts    # Gemini AI API 연동
├── components/             # UI 컴포넌트
│   ├── Layout/             #   Sidebar, Header, Footer
│   └── Workspace/          #   CalcLineInput, ResultDisplay
├── contexts/               # React Context
│   ├── ProjectContext.tsx  #   프로젝트 상태 관리
│   └── SettingsContext.tsx #   사용자 설정 관리
└── constants.tsx           # 상수 (UNITS, THEME_CONFIGS)
```

### 데이터 흐름

```
┌─────────────────────────────────────────────────────────────┐
│  사용자 입력                                                 │
│  "F = 100 kg * 9.8 m/s^2"                                   │
└─────────────────────────────────────────────────────────────┘
                              │
                              ▼
┌─────────────────────────────────────────────────────────────┐
│  unitEngine.ts                                              │
│  ┌───────────────┐    ┌───────────────┐    ┌─────────────┐ │
│  │  tokenize()   │ →  │  Parser.parse │ →  │  evaluate() │ │
│  └───────────────┘    └───────────────┘    └─────────────┘ │
└─────────────────────────────────────────────────────────────┘
                              │
                              ▼
┌─────────────────────────────────────────────────────────────┐
│  결과: Quantity { value: 980, unit: N, dimension: [1,1,-2] }│
└─────────────────────────────────────────────────────────────┘
```
```

### 나쁜 예시

```markdown
## 3. 아키텍처

src 폴더에 코드가 있습니다.
components 폴더에 컴포넌트가 있습니다.
```

**문제점**:
- 폴더 구조 트리 없음
- 각 폴더의 역할 설명 없음
- 데이터 흐름 시각화 없음

### 품질 체크리스트

- [ ] 폴더 구조가 **트리 형태**로 표현됨
- [ ] 각 폴더/파일에 **역할 주석**이 포함됨 (`# 설명`)
- [ ] **데이터 흐름**이 ASCII 다이어그램으로 시각화됨
- [ ] Claude가 "X 기능은 어디에 있나?"에 즉시 답할 수 있음

---

## 섹션 4: 핵심 모듈

### 목적

가장 자주 수정되는 **핵심 파일들**의 상세 설명을 제공합니다.
Claude가 해당 모듈을 수정할 때 내부 구조를 이해할 수 있어야 합니다.

### 최소 요구사항

| 항목 | 설명 | 필수 |
|------|------|:----:|
| **핵심 모듈 수** | 최소 2개 이상 상세 설명 | O |
| **파일 위치** | `**위치**: path/to/file` 형식 | O |
| **모듈 책임** | 한 문장으로 핵심 역할 설명 | O |
| **주요 함수/클래스** | 목록 형태로 정리 | O |
| **사용 예시** | 코드 예시 또는 호출 방법 | 권장 |

### 좋은 예시 (calclab)

```markdown
## 4. 핵심 모듈

### 4.1 unitEngine.ts - 계산 엔진

**위치**: `utils/unitEngine.ts`

재귀 하강 파서(Recursive Descent Parser)로 수식을 파싱하고 SI 차원을 추적합니다.

**파서 우선순위**:
```
expression()  →  덧셈/뺄셈 (차원 일치 검증)
    ↓
term()       →  곱셈/나눗셈 (차원 결합)
    ↓
factor()     →  거듭제곱
    ↓
primary()    →  숫자, 단위, 변수, 함수, 괄호
```

**주요 함수**:
- `parseAndEvaluate(line, context, lineResults)` - 수식 파싱 및 평가
- `areDimensionsEqual(a, b)` - 두 Quantity의 차원 비교
- `getDimensionString(dim)` - 차원 배열을 문자열로 변환
- `formatQuantity(q)` - 결과를 사용자 친화적 문자열로 포맷

**지원 단위** (~85개): m, cm, mm, km, kg, g, N, Pa, J, W, Hz, ...
**지원 함수** (~50개): sin, cos, tan, sqrt, ln, exp, abs, ...

### 4.2 geminiService.ts - AI 서비스

**위치**: `services/geminiService.ts`

Google Gemini API와 통신하여 AI 기반 문제 해결을 제공합니다.

**주요 함수**:
- `askGemini(question, context)` - AI에게 질문
- `formatContext(calcLines)` - 계산 컨텍스트를 AI 프롬프트로 변환
- `parseAIResponse(response)` - AI 응답을 구조화된 형식으로 파싱

**사용 예시**:
```typescript
const answer = await askGemini(
  "이 공식의 물리적 의미는?",
  currentCalcLines
);
```
```

### 나쁜 예시

```markdown
## 4. 핵심 모듈

### 4.1 main.js

메인 파일입니다.
```

**문제점**:
- 파일 위치 미명시
- 모듈 책임 설명 없음
- 주요 함수 목록 없음
- 사용 예시 없음

### 품질 체크리스트

- [ ] 핵심 모듈이 **2개 이상** 상세히 설명됨
- [ ] 각 모듈의 **파일 위치**가 `**위치**: path` 형식으로 명시됨
- [ ] 모듈의 **핵심 책임**이 한 문장으로 설명됨
- [ ] **주요 함수/클래스**가 목록으로 정리됨
- [ ] 가능하면 **사용 예시**가 포함됨

---

## 섹션 5: 타입 시스템

### 목적

TypeScript 프로젝트의 **핵심 타입 정의**를 문서화합니다.
JavaScript 프로젝트는 "타입 시스템 없음"을 명시합니다.

### 최소 요구사항

**TypeScript 프로젝트**:
| 항목 | 설명 | 필수 |
|------|------|:----:|
| **핵심 인터페이스** | 주요 타입 정의 코드 블록 | O |
| **타입 관계** | 타입 간 관계 설명 | 권장 |
| **Result 패턴** | 에러 처리 패턴 (사용 시) | 권장 |

**JavaScript 프로젝트**:
```markdown
## 5. 타입 시스템

> 이 저장소는 JavaScript 프로젝트로, 별도의 타입 시스템이 없습니다.
> JSDoc 주석으로 타입 힌트를 제공합니다.
```

### 좋은 예시 (calclab)

```markdown
## 5. 타입 시스템

### 주요 타입 (types/)

```typescript
// 물리량 (값 + 단위 + 차원)
interface Quantity {
  value: number;        // SI 기본 단위 기준 값
  displayValue: number; // 사용자 입력 단위 기준 값
  unit: Unit;          // { symbol, factor, dimension }
}

// 계산 라인
interface CalcLine {
  id: string;
  input: string;
  result?: Quantity | string;  // 결과 또는 에러 메시지
  variable?: string;           // 정의된 변수명
}

// 프로젝트
interface Project {
  id: string;
  name: string;
  lines: CalcLine[];
  createdAt: Date;
}
```

### Result 패턴

```typescript
type Result<T, E> =
  | { success: true; value: T }
  | { success: false; error: E };

// 사용 예
const result = parseAndEvaluate(input);
if (result.success) {
  console.log(result.value);
} else {
  console.error(result.error);
}
```
```

### 품질 체크리스트

- [ ] TypeScript 프로젝트: 핵심 인터페이스가 코드 블록으로 정의됨
- [ ] JavaScript 프로젝트: "타입 시스템 없음"이 명시됨
- [ ] 주요 타입 간 관계가 설명됨 (권장)

---

## 섹션 6: 테스트

### 목적

테스트 **현황과 실행 방법**을 문서화합니다.
Claude가 테스트를 추가하거나 실행할 때 참고합니다.

### 최소 요구사항

| 항목 | 설명 | 필수 |
|------|------|:----:|
| **테스트 프레임워크** | Jest, Vitest, Mocha 등 | O |
| **실행 명령어** | `npm run test` 등 | O |
| **테스트 현황** | 파일 목록 또는 테이블 | O |
| **커버리지** | 현재 커버리지 (있다면) | 권장 |

**테스트가 없는 경우**:
```markdown
## 6. 테스트

> 현재 테스트가 구현되어 있지 않습니다.
> 향후 Vitest로 테스트를 추가할 예정입니다.
```

### 좋은 예시 (calclab)

```markdown
## 6. 테스트

### 테스트 현황

| 영역 | 파일 | 테스트 수 | 내용 |
|------|------|----------|------|
| 계산 엔진 | `unitEngine.test.ts` | 101 | 파서, 차원 분석, 에러 처리 |
| 복소수 | `complex.test.ts` | 75 | 복소수 연산 |
| AI 서비스 | `geminiService.test.ts` | 19 | API 모킹 테스트 |
| 스토리지 | `storage.test.ts` | 32 | localStorage 래퍼 |
| **총계** | **38개 파일** | **1,170개** | |

### 테스트 실행

```bash
# 전체 테스트
npm run test:run

# 워치 모드
npm run test

# 커버리지 리포트
npm run test:coverage
```

### 커버리지

- 라인 커버리지: ~80%
- 브랜치 커버리지: ~75%
```

### 품질 체크리스트

- [ ] 테스트 **프레임워크**가 명시됨
- [ ] **실행 명령어**가 명시됨
- [ ] 테스트 **현황**이 테이블 또는 목록으로 정리됨
- [ ] 테스트가 없다면 "없음"이 명시됨

---

## 섹션 7: 환경 설정

### 목적

**환경 변수**와 **설정 파일**을 문서화합니다.
Claude가 환경 설정 관련 작업을 할 때 참고합니다.

### 최소 요구사항

| 항목 | 설명 | 필수 |
|------|------|:----:|
| **환경 변수 테이블** | 변수명, 설명, 필수 여부 | O |
| **설정 파일** | 설정 파일 위치 및 용도 | 권장 |
| **localStorage** | 사용하는 키 (웹앱의 경우) | 권장 |

**환경 변수가 없는 경우**:
```markdown
## 7. 환경 설정

### 환경 변수

없음 - 모든 설정은 `config.js`에서 관리
```

### 좋은 예시 (calclab)

```markdown
## 7. 환경 설정

### 환경 변수

| 변수 | 설명 | 필수 | 기본값 |
|------|------|:----:|--------|
| `VITE_GEMINI_API_KEY` | Gemini AI API 키 | O | - |
| `VITE_DEBUG_MODE` | 디버그 로그 활성화 | X | `false` |
| `VITE_API_TIMEOUT` | API 타임아웃 (ms) | X | `30000` |

### 설정 파일

| 파일 | 용도 |
|------|------|
| `.env.local` | 로컬 환경 변수 (Git 제외) |
| `vite.config.ts` | Vite 빌드 설정 |
| `tsconfig.json` | TypeScript 설정 |

### localStorage 키

| 키 | 내용 | 예시 값 |
|----|------|---------|
| `cl_theme` | 테마 설정 | `"forest"` |
| `cl_projects_v3` | 프로젝트 데이터 | JSON 배열 |
| `cl_settings` | 사용자 설정 | JSON 객체 |
```

### 품질 체크리스트

- [ ] 환경 변수가 **테이블**로 정리됨 (필수 여부 포함)
- [ ] 환경 변수가 없다면 "없음"이 명시됨
- [ ] 주요 **설정 파일**의 위치와 용도가 명시됨 (권장)

---

## 섹션 8: 알려진 이슈 & TODO

### 목적

현재 **제한사항**과 **향후 계획**을 공유합니다.
Claude가 새 기능을 구현할 때 이미 계획된 작업과 충돌하지 않도록 합니다.

### 최소 요구사항

| 항목 | 설명 | 필수 |
|------|------|:----:|
| **현재 제한사항** | 알려진 버그, 미구현 기능 | O (2개+) |
| **향후 개선 계획** | 예정된 작업 | O (2개+) |
| **체크박스 형식** | `- [ ]` 또는 `- [x]` | O |

### 좋은 예시 (calclab)

```markdown
## 8. 알려진 이슈 & TODO

### 현재 제한사항

- [x] ~~언어 변경 UI 미구현~~ (v1.2에서 구현 완료)
- [x] ~~단위 변환 선택기 미구현~~ (v1.3에서 구현 완료)
- [ ] 오프라인 모드 미지원 - 네트워크 필요
- [ ] 모바일 반응형 최적화 미완료

### 향후 개선 계획

- [ ] PWA 지원 추가 (오프라인 캐싱)
- [ ] 다크 모드 개선 (시스템 설정 자동 감지)
- [ ] 키보드 단축키 확장 (`Ctrl+Enter` 실행 등)
- [ ] 계산 히스토리 내보내기 (CSV, JSON)

### 성능 최적화 현황

- [x] 파서 캐싱 구현 (20% 속도 향상)
- [x] 대용량 라인 가상화 (1000줄 이상 처리)
- [ ] Web Worker로 파싱 분리 (예정)
```

### 나쁜 예시

```markdown
## 8. 알려진 이슈

버그가 있습니다.
나중에 고칠 예정입니다.
```

**문제점**:
- 구체적인 이슈 없음
- 체크박스 형식 미사용
- 향후 계획 없음

### 품질 체크리스트

- [ ] 현재 **제한사항**이 2개 이상 구체적으로 나열됨
- [ ] **향후 계획**이 2개 이상 나열됨
- [ ] **체크박스 형식** (`- [ ]`, `- [x]`)으로 작성됨
- [ ] 완료된 항목은 취소선 또는 `[x]`로 표시됨

---

## 섹션 1-8 종합 품질 체크리스트

### 필수 항목 (15개)

**섹션 1: 프로젝트 개요 (3개)**
- [ ] 프로젝트 한 문장 정의
- [ ] 핵심 기능 3개 이상
- [ ] 기술 스택 + 버전

**섹션 2: Quick Start (3개)**
- [ ] 복사-붙여넣기 가능한 명령어
- [ ] 실행 결과 (포트/URL) 명시
- [ ] 명령어 테이블 4개+

**섹션 3: 아키텍처 (3개)**
- [ ] 폴더 구조 트리
- [ ] 역할 주석
- [ ] 데이터 흐름 ASCII

**섹션 4: 핵심 모듈 (3개)**
- [ ] 2개+ 모듈 상세 설명
- [ ] 파일 위치 명시
- [ ] 주요 함수 목록

**섹션 6-8: 테스트/환경/이슈 (3개)**
- [ ] 테스트 실행 명령어 (또는 "없음" 명시)
- [ ] 환경 변수 테이블 (또는 "없음" 명시)
- [ ] 현재 제한사항 + 향후 계획

### 품질 등급

| 등급 | 충족 항목 | 의미 |
|:----:|:---------:|------|
| **A** | 15개 | 우수 - calclab 수준 |
| **B** | 12-14개 | 양호 - 일부 보완 권장 |
| **C** | 9-11개 | 보통 - 보완 필요 |
| **F** | 8개 이하 | 부족 - 재작성 필요 |

---

## 참고 자료

### 좋은 예시 프로젝트

1. **calclab**: https://github.com/HMWKR/calclab/blob/main/CLAUDE.md
   - 섹션 1-8: ~660줄
   - 특히 아키텍처, 핵심 모듈, 테스트 섹션이 상세함

2. **prompt-dashboard**: https://github.com/HMWKR/prompt-dashboard/blob/main/CLAUDE.md
   - 섹션 1-7: ~315줄
   - 데이터 스키마, 로드맵 섹션이 잘 정리됨

### 작성 팁

1. **Claude의 관점에서 작성**: "내가 이 프로젝트를 처음 본다면 무엇이 필요할까?"
2. **구체적인 경로와 이름 사용**: `src/components`보다 `src/components/Layout/Sidebar.tsx`
3. **ASCII 다이어그램 활용**: 복잡한 흐름은 시각적으로 표현
4. **버전 정보 포함**: `React`보다 `React 19`
5. **예시 코드 포함**: 추상적 설명보다 실제 코드 스니펫

---

## 마무리

**섹션 1-8이 상세할수록 Claude와의 협업 품질이 높아집니다.**

- 부실한 섹션 1-8 → Claude가 추정에 의존 → 잘못된 경로, 부적절한 설계
- 상세한 섹션 1-8 → Claude가 정확한 정보 활용 → 빠르고 정확한 작업

**작성에 30분을 투자하면, 이후 모든 Claude 세션에서 시간을 절약할 수 있습니다.**

---

<!--
작성일: 2026-01-19
목적: CLAUDE.md 섹션 1-8 품질 향상을 위한 상세 가이드
참조: calclab/CLAUDE.md, prompt-dashboard/CLAUDE.md
-->
